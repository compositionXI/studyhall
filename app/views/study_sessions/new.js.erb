var button = $("#<%=j @modal_link_id %>");

var placement = null;
if(button.parent().hasClass("right"))
  placement = "below-left";
else
  placement = "below-right";

button.popover({trigger: "manual",
                placement: placement,
                offset: 10,
                horizontalOffset: 25,
                html: true,
                title: function(){return "Start A Study Hall";},
                content: function(){return "<%=j render :partial => 'form', :locals => {:study_session => @study_session} %>";}});

button.popover("show");
var select = $("#study_session_buddy_ids");
select.chosen({no_results_text: "No results matched"});
select.chosen().change(function(){
  if(select.val().length > 1){
    select.find("option").prop("disabled",true);
    select.trigger("liszt:updated");
  }else{
    select.find("option").prop("disabled",false);
    select.trigger("liszt:updated");
  }
});

styleFileInputs();
$("#new_study_session .fake-file").css({position: "relative", top: "-34px"});
